
/**
 * Blobs
 */
%ball {
  width:$blob-diameter;
  height:$blob-diameter;
  border-radius:50%;
  position:absolute;
  background:$blob-color;
  
  font-size:$blob-font-size;
  line-height:$blob-diameter;
  text-align:center;
}

.menu {
  filter:url('#shadowed-goo');
  
  width:100%;
  height:$blob-diameter;
  position:fixed;
  top:$blob-radius;
  left:$blob-radius;
  
  i {
    color:white;
  }
}

.menu-open {
  display:none;
}

.menu-open-button {
  @extend %ball;
  
  transition-timing-function:cubic-bezier(0.175, 0.885, 0.320, 1.275);
  transition-duration:400ms;
  transform:scale($menu-open-scale-normal,$menu-open-scale-normal);
  cursor:pointer;
  
  // hide the items
  z-index:10;
}

.hamburger {
  margin-left:-$hamburger-width/2;
  margin-top:-$hamburger-height/2;
  width:$hamburger-width;
  height:$hamburger-height;
  position:absolute;
  top:50%;
  left:50%;
  background:white;
  display:block;
  transition:transform 200ms;
}

.hamburger-1 {
  transform:translate3d(0,-$hamburger-spacing,0);
}
.hamburger-2 {
  transform:translate3d(0,0,0);
}
.hamburger-3 {
  transform:translate3d(0,$hamburger-spacing,0);
}

.menu-open:checked + .menu-open-button {
  .hamburger-1 {
    transform:rotate(45deg); 
  }
  .hamburger-2 {
    transform:scale(0.1);
  }
  .hamburger-3 {
    transform:rotate(-45deg); 
  }
}

.menu-open-button:hover {
  transform:scale($menu-open-scale-hover,$menu-open-scale-hover);
}

.menu-item {
  @extend %ball;
  
  &:hover {
    background:white;
    > i {
      color:$blob-color;
    }
  }
  
  @for $i from 1 through $menu-items {
    // items start from 3
    &:nth-child(#{$i+2}) {
      transition-duration:180ms;
      z-index:10-$i;
    }
  }
}

.menu-open:checked + .menu-open-button {
  transition-timing-function:linear;
  transition-duration:200ms;
  transform:scale($menu-open-scale-checked,$menu-open-scale-checked);
}

.menu-open:checked ~ .menu-item {
  transition-timing-function:cubic-bezier(0.165, 0.840, 0.440, 1.000);
  
  @for $i from 1 through $menu-items {

    &:nth-child(#{$i+2}) {
      transition-duration:100ms+(90ms*$i);
      transform:translate3d($blob-open-distance*$i,0,0);
    }
  }
}
